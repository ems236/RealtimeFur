<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
		  integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<link rel="stylesheet" href="css/graphics.css">
	<style>
            .hidden {
                display: none;
            }

            div.row
            {
                margin-left: 0px;
            }

            #main{
                background-color: black;
                overflow-x: hidden;
            }

            .col-2, .col-3, .col-4 {
                border: 1px solid blue;
            }

	</style>
</head>
<body>

<div class="container-fluid mt-5">
	<div class="row">
    	<h6>FPS <span id="fps-counter"></span></h6>
    </div>
	<div class="row">
		<div id="main" class="col-6">
			<canvas id="glCanvas" width="800" height="480"></canvas>
		</div>

		<div class="col-3">
            <h2>Model Controls</h2>
			<div class="form-group">
				<h4>General Controls</h4>
				<div class="form-check">
					<input class="form-check-input realtime-scene-control" type="checkbox" id="draw-base" checked/>
					<label class="form-check-label" for="draw-base">
						Render Base Model
					</label>
				</div>
				<div class="form-check">
					<input class="form-check-input realtime-scene-control" type="checkbox" id="draw-shells" checked/>
					<label class="form-check-label" for="draw-shells">
						Render Shells
					</label>
				</div>
				<div class="form-check">
					<input class="form-check-input realtime-scene-control" type="checkbox" id="draw-fins" checked/>
					<label class="form-check-label" for="draw-fins">
						Render Fins
					</label>
                </div>
                <label for="fur-multiplier">Fur Length Multiplier:</label>
                <input type="number" min="0" value="1" step="0.001" class="form-control realtime-scene-control" id="fur-multiplier"/>
            </div>
            <hr/>
            <div class="form-group" id="shell-controls">
                <h4>Shell Controls</h4>
                <label for="color-noise">Color Noise Mixing Ratio:</label>
                <input type="number" min="0" max="1" value="0.2" step="0.001" class="form-control realtime-scene-control" id="color-noise"/>

            </div>
            <div class="form-group" id="fin-controls">
                <h4>Fin Controls</h4>
                <div class="form-check">
                    <input type="checkbox" id="filter-fins" class="form-check-input realtime-scene-control" checked/>
                    <label class="form-check-label" for="filter-fins">
                        Alpha Blend Non-Sillhouette Fins
                    </label>
                </div>
                <label for="fin-multiplier">Fin Length Multiplier (Compounds with Fur Length):</label>
                <input type="number" min="0" value="0.75" step="0.001" class="form-control realtime-scene-control" id="fin-multiplier"/>

                <label for="sillhoutte-threshold">Dot Product Threshold for Sillhouete Edge Identification:</label>
                <input type="number" min="0" max="1" value="0.15" step="0.001" class="form-control realtime-scene-control" id="sillhouette-threshold"/>
            </div>
            <div class="form-group">
                <h4>Texture Controls</h4>
                <div class="alert alert-warning">Requires you to click the redraw button because these settings are too slow for realtime rendering</div>
                <label for="shell-count">Number of Shells: (<span id="shell-display">10</span>)</label>
                <input type="range" min="0" max="50" value="10" step="1" class="form-control-range texture-control" id="shell-count"/>

                <label for="curliness">Curliness [Only Applies to fins if draw mode is particle gen]:</label>
                <input type="range" min="0" max="1" value="0.0" step="0.1" class="form-control-range texture-control" id="curliness"/>

                <label for="fin-density">Fin Fur Density:</label>
                <input type="range" min="0" max="1" value="0.2" step="0.1" class="form-control-range texture-control" id="fin-density"/>

                <label for="shell-density">Shell Fur Density:</label>
                <input type="range" min="0" max="1" value="0.5" step="0.1" class="form-control-range texture-control" id="shell-density"/>

                <label for="fur-density">Shell Texture Dimensions: (<span id="shell-size-display">512</span>)</label>
                <input type="number" min="6" max="10" value="9" step="1" class="form-control texture-control" id="shell-texture-size"/>

                <label for="fur-density">Fin Texture Dimensions: (<span id="fin-size-display">128</span>)</label>
                <input type="number" min="6" max="10" value="7" step="1" class="form-control texture-control" id="fin-texture-size"/>
				
				<label style="margin-top:20px;" for="objectSelection">Select object:</label>
				<select class="form-control" id="objectSelection">
					<option value="Dog">Dog</option>
					<option value="Sphere">Sphere</option>
				</select>

                <button class="btn btn-primary" id="regen-textures">Redraw</button>
            </div>
            
			<!--			<label style="margin-top:20px;" for="objectSelection">Select object:</label>-->
			<!--			<select class="form-control" id="objectSelection">-->
			<!--				<option value="Cube">Cube</option>-->
			<!--				<option value="Sphere">Sphere</option>-->
			<!--				<option value="Bunny">Bunny</option>-->
			<!--			</select>-->
		</div>

		<div class="col-3">
            <h2>Environment Controls</h2>
            <h4>Light Controls</h4>
            <label for="min-self-shadow">Min Self Shadow Factor:</label>
            <input type="number" min="0" max="1" value="0.5" step="0.001" class="form-control realtime-scene-control" id="min-self-shadow"/>
            <div class="form-group">
                <h6>Object Phong Parameters [Coefficients used with for Texture Colors]</h6>
                <label for="ka">Phong Ka:</label>
                <input type="number" min="0" max="1" value="1.0" step="0.001" class="form-control form-control-range realtime-scene-control" id="ka"/>
                <label for="kd">Phong Kd:</label>
                <input type="number" min="0" max="1" value="0.9" step="0.001" class="form-control form-control-range realtime-scene-control" id="kd"/>
                <label for="ks">Phong Ks:</label>
                <input type="number" min="0" max="1" value="0.9" step="0.001" class="form-control form-control-range realtime-scene-control" id="ks"/>
                <label for="ns">Phong Ns:</label>
                <input type="number" min="0" value="10" step="0.001" class="form-control realtime-scene-control" id="ns"/>
            </div>
            <div class="form-group">
                <h6>Light Intensity</h6>
                <label for="light-r">R:</label>
                <input type="range" min="0" max="1" value="1" step="0.001" class="form-control realtime-scene-control" id="light-r"/>
                <label for="light-g">G:</label>
                <input type="range" min="0" max="1" value="1" step="0.001" class="form-control realtime-scene-control" id="light-g"/>
                <label for="light-b">B:</label>
                <input type="range" min="0" max="1" value="1" step="0.001" class="form-control realtime-scene-control" id="light-b"/>
            </div>
            <div class="form-group">
                <h6>Ambient Intensity</h6>
                <label for="ambient-r">R:</label>
                <input type="range" min="0" max="1" value="0.1" step="0.001" class="form-control realtime-scene-control" id="ambient-r"/>
                <label for="ambient-g">G:</label>
                <input type="range" min="0" max="1" value="0.1" step="0.001" class="form-control realtime-scene-control" id="ambient-g"/>
                <label for="ambient-b">B:</label>
                <input type="range" min="0" max="1" value="0.1" step="0.001" class="form-control realtime-scene-control" id="ambient-b"/>
            </div>
            
            <h4>Wind Controls</h4>
            <div class="form-group">
                <label for="wind-x">Wind x:</label>
                <input type="number" value="0" step="0.001" class="form-control form-control-range realtime-scene-control" id="wind-x"/>
                <label for="wind-y">Wind y:</label>
                <input type="number" value="0" step="0.001" class="form-control form-control-range realtime-scene-control" id="wind-y"/>
                <label for="wind-z">Wind z:</label>
                <input type="number" value="6" step="0.001" class="form-control form-control-range realtime-scene-control" id="wind-z"/>
                <label for="wind-intensity">Wind Intensity (Preferably 0-1)</label>
                <input type="number" min="0" value="0.5" step="0.001" class="form-control realtime-scene-control" id="wind-intensity"/>
            </div>
		</div>
	</div>
</div>
<div class="container">
		<div class="container mt-5">
			<h1>A Hairy Problem</h1>
			<p>
				One of the biggest open problems in the graphics field is rendering hair-like protrusions efficiently.

				A na&iumlve approach would be to represent every hair with its own geometric model. However, when hair
				is present, it tends to be plentiful. That just isn't feasible if you are rendering a dynamic scene.


			</p>

			<h1>Rendering Techniques</h1>
			<h3>Shells</h3>
			<p>
				Hair like protrusions (i.e. fur and grass) can be approximated using a series of planes called
				"shells" which can be layered, one on top of the other and separated by an arbitrary distance.
			</p>
			<p>We implemented two different methods of texture generation as described below.</p>
			<h5>Random Noise<sup>1</sup></h5>
			<p>A 2D texture was initially generated using a uniform distribution to assign an intensity value
			between 0 and 255. The initial texture was then passed through a Gaussian filter to not only smooth out intensity values,
			but also find </p>
			<p>The resulting texture was then used in an alpha blending algorithm in order to </p>
			<h5>Particle Generation<sup>2</sup></h5>
			<p>The shell textures were generated by randomly initializing the </p>
			<p></p>
			<h3>Fins</h3>
		</div>

		<div class="container mt-5">
			<h1>Citations</h1>
			<ol>
				<li>
					Papaioannou, G. “A simple and Fast Technique for Fur Rendering,” Department of Informatics,
					University of Athens. 2002.
				</li>
				<li>Sheppard, G. “Real-Time Rendering of Fur,” Bachelor of Engineering. University of Sheffield. 2004.</li>
				<li>
					Kim, H., Lee, J., DongKyum, K., Henzel, C., Kim, J., Lim, M. “Real-time fur simulation and
					rendering,” Computer Animation and Virtual Worlds. vol . 21, pp. 311-320. May 2010.
				</li>
			</ol>
		</div>

	</div>




<!--External utilities-->
<script src="js/gl-matrix.js"></script>
<script src="js/jquery-3.4.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
		integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
		crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
		integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
		crossorigin="anonymous"></script>

<!--Internal-->
<script src="js/glDemo.js"></script>
<script src="js/shaders.js"></script>
<script src="js/scene.js"></script>
<script src="js/camera.js"></script>
<script src="js/texture_loader.js"></script>
<script src="js/fur-opacity.js"></script>
<script src="js/sphere.js"></script>
<script src="js/finGeneration.js"></script>

</body>
</html>